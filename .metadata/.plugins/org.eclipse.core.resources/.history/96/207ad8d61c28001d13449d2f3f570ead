package INCAA;

import java.util.ArrayList;
import java.util.List;


public class INCAA {
	private List<Pelicula> catalogo;

	//Constructor:
	public INCAA(String sPeliculaMinimaYObligatoria) {
		this.catalogo = new ArrayList<Pelicula>();
		
		Pelicula pelicula = new Pelicula(1, sPeliculaMinimaYObligatoria);
		
		catalogo.add(pelicula);
	}

	//Getters, setters y toString:
	public List<Pelicula> getCatalogo() {
		return catalogo;
	}

	public void setCatalogo(List<Pelicula> catalogo) {
		this.catalogo = catalogo;
	}

	@Override
	public String toString() {
		String sTexto = "Peliculas del Catalogo del INCAA:\n";
		
		for(int i = 0; i< catalogo.size(); i++) {
			sTexto += catalogo.get(i).toString() + "\n";
		}
		
		return sTexto;
	}
	
	//Metodos:
	public boolean agregarPelicula(String sPelicula) throws Exception {	
		for (int i = 0; i < catalogo.size(); i++) {
			if(catalogo.get(i).getsNombrePelicula() == sPelicula) {
				throw new Exception("La pelicula " + sPelicula + " ya existe en el catalogo.");
			}
		}
		
		Pelicula pelicula = new Pelicula(catalogo.size() + 1, sPelicula);
		
		return catalogo.add(pelicula);
	}
	
	public Pelicula traerPelicula(int idPelicula) {
		Pelicula retornoPelicula = null;
		
		if(idPelicula <= catalogo.size()) {
			boolean bEncontrado = false;
			int iPosición = 0;
			
			while(!bEncontrado) {
				if(idPelicula == catalogo.get(iPosición).getiIDPelicula()) {
					retornoPelicula = catalogo.get(iPosición);
					bEncontrado = true;
				}else {
					iPosición++;
				}
			}
			
			
		}
		
		return retornoPelicula;
	}
}
